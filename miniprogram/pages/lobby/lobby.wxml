<!--pages/lobby/lobby.wxml-->
<view class="lobby-container">
  <view class="lobby-header">
    <text class="lobby-title">24点对战</text>
    <text class="lobby-subtitle">选择游戏模式</text>
  </view>

  <view class="game-modes">
    <!-- 创建房间 -->
    <view class="mode-card card" bindtap="createRoom">
      <view class="mode-icon">🎮</view>
      <text class="mode-title">创建房间</text>
      <text class="mode-desc">创建一个新房间等待好友加入</text>
    </view>

    <!-- 加入房间 -->
    <view class="mode-card card" bindtap="showJoinDialog">
      <view class="mode-icon">🚪</view>
      <text class="mode-title">加入房间</text>
      <text class="mode-desc">输入房间号加入好友的游戏</text>
    </view>

    <!-- 快速匹配 -->
    <view class="mode-card card" bindtap="quickMatch">
      <view class="mode-icon">⚡</view>
      <text class="mode-title">快速匹配</text>
      <text class="mode-desc">随机匹配在线玩家</text>
    </view>

    <!-- 单机练习 -->
    <view class="mode-card card" bindtap="practiceMode">
      <view class="mode-icon">📚</view>
      <text class="mode-title">单机练习</text>
      <text class="mode-desc">练习模式，提升解题技巧</text>
    </view>
  </view>

  <!-- 用户信息 -->
  <view class="user-info" wx:if="{{userInfo}}">
    <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}"></image>
    <text class="user-name">{{userInfo.nickName || '游客'}}</text>
  </view>

  <!-- 加入房间弹窗 -->
  <view class="modal-overlay" wx:if="{{showJoinModal}}" bindtap="hideJoinDialog">
    <view class="modal-content card" catchtap="noop">
      <text class="modal-title">加入房间</text>
      <input class="room-input" 
             type="text" 
             placeholder="请输入房间号" 
             maxlength="6"
             value="{{roomCode}}"
             bindinput="onRoomCodeInput"/>
      <view class="modal-buttons">
        <button class="btn btn-secondary" bindtap="hideJoinDialog">取消</button>
        <button class="btn btn-primary" bindtap="joinRoom">加入</button>
      </view>
    </view>
  </view>
</view>